{% comment %}
    Carrega as tags de template do Django para que a tag {% static %}
    possa resolver os caminhos para arquivos CSS, JS e imagens.
{% endcomment %}
{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Acesso e Cadastro</title>
    <link rel="icon" href="{% static 'img/favi.png' %}" type="image/x-icon">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="{% static 'css/login.css' %}">
</head>
<body>

    <div class="container" id="container">

        <div class="form-container sign-up-container">
            <form id="formCadastro" action="/cadastrar/" method="POST" novalidate>
                {% csrf_token %}
                <h2>Criar Conta</h2>
                <input type="text" name="nomecompleto" placeholder="Nome Completo*" required pattern="[A-Za-zÀ-ÿ ]+" title="Deve conter apenas letras.">
                <input type="text" name="usuario" placeholder="Usuário*" required pattern="[A-Za-z0-9]+" title="Deve conter apenas letras e números.">
                <input type="email" name="email" placeholder="Email*" required>
                <input type="text" name="celular" placeholder="Celular*" required pattern="\d+" title="Deve conter apenas números.">
                <div class="input-group">
                    <input type="password" name="senha" placeholder="Senha*" required minlength="8" title="A senha deve ter no mínimo 8 caracteres.">
                    <input type="password" name="repetir_senha" placeholder="Repetir Senha*" required>
                </div>
                <span class="error-message" id="errorMessage">As senhas não coincidem.</span>
                <div class="button-group">
                    <button type="submit" class="register-btn">Cadastrar</button>
                </div>
                <div class="links">
                    <a href="#" id="signInFormLink">Já tem cadastro? Entre agora</a>
                </div>
            </form>
        </div>

        <div class="form-container sign-in-container">
            <form id="formLogin" action="{% url 'login' %}" method="POST" autocomplete="off">
                {% csrf_token %}
                <h2>Acesso ao Usuário</h2>
                {% if messages %}
                    {% for message in messages %}
                        <div class="login-error-message {{ message.tags }}">
                            <i class="fas fa-exclamation-circle"></i> {{ message }}
                        </div>
                    {% endfor %}
                {% endif %}
                <input type="text" name="login_usuario" placeholder="Usuário" required>
                <input type="password" name="password" placeholder="Senha" required>
                
                {% if show_captcha %}
                    <div class="captcha-container">
                        <div class="captcha-image-container">
                            {{ captcha_form.captcha }}
                            <i class="fas fa-sync-alt" id="captcha-refresh-btn" title="Trocar imagem"></i>
                        </div>
                    </div>
                {% endif %}

                <div class="button-group">
                    <button type="submit">Entrar</button>
                    <button type="button" class="register-btn" id="signUpFormBtn">Cadastrar</button>
                </div>
                <div class="links">
                    <a href="{% url 'senha' %}">Esqueci minha senha</a>
                </div>
            </form>
        </div>

        <div class="overlay-container">
            <div class="overlay">
                <div class="overlay-panel overlay-left">
                    <img src="{% static 'img/logo.png' %}" alt="Logo">
                </div>
                <div class="overlay-panel overlay-right">
                    <img src="{% static 'img/logo.png' %}" alt="Logo">
                </div>
            </div>
        </div>

    </div>

    <div id="toast-container"></div>
    
    <script src="{% static 'js/login.js' %}"></script>
</body>
</html>